/*
 * MAX7219_1.h
 *
 *  Created on: May 18, 2025
 *      Author: quanvm198
 */

#ifndef INC_MAX7219_H_
#define INC_MAX7219_H_

#include "stm32f407xx.h"

/**
 * MAX7221 register definition
 */
#define MAX7219_REG_NOOP         0x00
#define MAX7219_REG_DIGIT0       0x01
#define MAX7219_REG_DIGIT1       0x02
#define MAX7219_REG_DIGIT2       0x03
#define MAX7219_REG_DIGIT3       0x04
#define MAX7219_REG_DIGIT4       0x05
#define MAX7219_REG_DIGIT5       0x06
#define MAX7219_REG_DIGIT6       0x07
#define MAX7219_REG_DIGIT7       0x08
#define MAX7219_REG_DECODE_MODE  0x09
#define MAX7219_REG_INTENSITY    0x0A
#define MAX7219_REG_SCAN_LIMIT   0x0B
#define MAX7219_REG_SHUTDOWN     0x0C
#define MAX7219_REG_DISPLAY_TEST 0x0F


#define MAX7219_SHUTDOWN_MODE    0x00
#define MAX7219_NORMAL_OPERATION 0x01

#define MAX7219_NO_DECODE        0x00
#define MAX7219_DECODE_DIGIT_0   0x01
#define MAX7219_DECODE_DIGIT_0_3 0x0F
#define MAX7219_DECODE_ALL       0xFF

// MAX7219 Intensity Levels (Duty Cycle Control)
#define MAX7219_INTENSITY_1_32    0x00  // 1/32 (min on)
#define MAX7219_INTENSITY_3_32    0x01  // 3/32
#define MAX7219_INTENSITY_5_32    0x02  // 5/32
#define MAX7219_INTENSITY_7_32    0x03  // 7/32
#define MAX7219_INTENSITY_9_32    0x04  // 9/32
#define MAX7219_INTENSITY_11_32   0x05  // 11/32
#define MAX7219_INTENSITY_13_32   0x06  // 13/32
#define MAX7219_INTENSITY_15_32   0x07  // 15/32
#define MAX7219_INTENSITY_17_32   0x08  // 17/32
#define MAX7219_INTENSITY_19_32   0x09  // 19/32
#define MAX7219_INTENSITY_21_32   0x0A  // 21/32
#define MAX7219_INTENSITY_23_32   0x0B  // 23/32
#define MAX7219_INTENSITY_25_32   0x0C  // 25/32
#define MAX7219_INTENSITY_27_32   0x0D  // 27/32
#define MAX7219_INTENSITY_29_32   0x0E  // 29/32
#define MAX7219_INTENSITY_31_32   0x0F  // 31/32 (max on)



/**
 *
 */

void MAX7219_TestLED(SPI_RegDef_t* SPIx);
void MAX7219_SendCommand(SPI_RegDef_t* SPIx, uint8_t Address, uint8_t Data);


#endif /* INC_MAX7219_H_ */
