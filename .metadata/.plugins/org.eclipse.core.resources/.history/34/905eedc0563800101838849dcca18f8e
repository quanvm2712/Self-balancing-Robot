/*
 * 010i2c_master_tx_testing.c
 *
 *  Created on: Feb 24, 2019
 *      Author: admin
 */

#include "stm32f407xx.h"
#include "MPU6050.h"
void Error_Handler(void);

I2C_HandleTypeDef hi2c1;
MPU6050_Data sensor_data;
MPU6050_ConvertedData converted_data;

int main(void){

	I2C1_Init();
	if (MPU6050_Init(&hi2c1) != I2C_OK)
	{
		Error_Handler();
	}

	while (1)
	{
		if (MPU6050_ReadData(&hi2c1, &sensor_data) == I2C_OK)
		{
			MPU6050_ConvertData(&sensor_data, &converted_data);
		}
	}
}

void Error_Handler(void)
{
	while(1);
}
