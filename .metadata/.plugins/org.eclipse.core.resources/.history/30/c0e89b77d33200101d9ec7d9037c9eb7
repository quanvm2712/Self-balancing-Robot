/*
 * 010i2c_master_tx_testing.c
 *
 *  Created on: Feb 24, 2019
 *      Author: admin
 */

#include "stm32f407xx.h"

TIM_HandleTypeDef htim;

void delay()
{
	for (uint32_t i = 0; i < 500000; i++);
}

void EXTI9_5_IRQHandler(){
	if((EXTI->PR) & (1 << 7)){
		GPIO_TogglePin(GPIOA, GPIO_PIN_0);
	}
	EXTI->PR |= (1 << 7); //Clear PR bit to reset interrupt line
}


int main(void){
//	TIM_PWM_Init(TIM2, TIM_CHANNEL_1);
	//Initialize Systick, so each tick is 1ms
	SysTick_Init();
	//Initialize GPIO output for LED
	GPIO_Initialize(GPIOA, GPIO_PIN_0, GPIO_MODE_OUTPUT);
	//Initialize GPIO input for button
	GPIO_Initialize(GPIOC, GPIO_PIN_1, GPIO_MODE_IT_RISING);

	while(1){
		//GPIO_TogglePin(GPIOA, GPIO_PIN_0);
		//Delay_ms(500);
	}
}


